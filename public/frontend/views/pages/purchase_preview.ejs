<!DOCTYPE html>
<html lang="en">

<head>
	<%- include ("../partial/meta-description.ejs") %>

	<!-- Title -->
	<title>Welly - Django Hospital Admin Dashboard Bootstrap Template</title>

	<!-- General css -->
    <%- include ("../partial/meta-css.ejs") %>
    <link href="/frontend/vendor/jqvmap/css/jqvmap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="/frontend/vendor/chartist/css/chartist.min.css">
    <link href="/frontend/vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">
	<link href="/frontend/vendor/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css" rel="stylesheet">

</head>
<body>

    <!--*******************
        Preloader start
    ********************-->
    <%- include ("../partial/preloader.ejs") %>
    <!--*******************
        Preloader end
    ********************-->

    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">
		<!-- NOTIFICATION SECTION  -->
		<%- include ("../partial/notificatiion.ejs")  %>
		<!-- NOTIFICATION SECTION  -->
		<!--**********************************
            Nav header start
        ***********************************-->
        <%- include ("../partial/nav-header.ejs") %>
        <!--**********************************
            Nav header end
        ***********************************-->
		
		<!--**********************************
            Chat box start
        ***********************************-->
		<%- include ("../partial/chartbox.ejs") %>
		<!--**********************************
            Chat box End
        ***********************************-->
		
		<!--**********************************
            Header start
        ***********************************-->
        <%- include ("../partial/header.ejs") %>
        <!--**********************************
            Header end ti-comment-alt
        ***********************************-->
        <!--**********************************
            Sidebar start
        ***********************************-->
		<%- include ("../partial/sidebar.ejs") %>
        <!--**********************************
            Sidebar end
        ***********************************-->
		<!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body overall-body">
            <!-- authorization page -->
            <!-- <div class="auth-page-wrapper">
                <div class="auth-page-container">
                    <div class="auth-close-button overlay-close-button"></div>
                    <div class="auth-content">
                        <div class="auth-header"><h4># if (context !== undefined) { %>#- context.user.userID.replace(/^./, el => el.toUpperCase()) %># } %>. Provide your authorization code</h4></div>
                        <div class="auth-input-wrap">
                            <div class="i"></div>
                            <input type="text" class="" placeholder="Enter code here" name="auth_code" id="auth_code">
                            <div class="loading-gif"></div>
                        </div>
                        <button type="button" class="auth-page-button" 
                            data-pageon="# if (context !== undefined) { %>#- context.config.pageon.purchases %># } %>"
                            data-previleges="# if (context !== undefined) { %>#- context.config.previliges.documents.modify %>,#- context.config.previliges.documents.delete %># } %>"
                            data-url="# if (context !== undefined) { %>#- context.config.post_urls.purchases_preview %># } %>">Proceed</button>
                    </div>
                </div>
            </div> -->
            <!-- end -->
            <!-- modification overlay -->
            <div class="overlay-page-wrapper">

                <div class="form-validation overlay-page-container">
                    <div class="overlay-header-wrapper"><h4> Modifying item #<span id="header-item-code"></span></h4></div>
                    <div class="overlay-close-button"></div>
                    <form class="needs-validation purchases-form-wrapper" formvalidate >
                        <div class="row purchases-form-container">
                            <div class="col-xl-6 cells modify-tags">
                                <div class="mb-3 row">
                                    <label class="col-lg-4 col-form-label" for="validationCustom01">Supplier:
                                        <span class="text-danger">*</span>
                                    </label>
                                    <div class="col-lg-6">
                                        <input type="text" class="form-control supplier" id="validationCustom01"  placeholder="" required>
                                    </div>
                                </div>
                                <div class="mb-3 row">
                                    <label class="col-lg-4 col-form-label" for="validationCustom02"> Invoice Date:
                                        <span class="text-danger">*</span>
                                    </label>
                                    <div class="col-lg-6">
                                        <input type="date" class="form-control invoice-date" id="validationCustom02"  placeholder="" required>
                                    </div>
                                </div>
                                <div class="mb-3 row">
                                    <label class="col-lg-4 col-form-label" for="validationCustom02"> Invoice Number:
                                        <span class="text-danger">*</span>
                                    </label>
                                    <div class="col-lg-6">
                                        <input type="text" class="form-control invoice-number" id="validationCustom02"  placeholder="" required>
                                    </div>
                                </div>
                                <div class="mb-3 row">
                                    <label class="col-lg-4 col-form-label" for="validationCustom05">Item Code:
                                        <span class="text-danger">*</span>
                                    </label>
                                    <div class="col-lg-6">
                                        <input type="text" class="form-control item-code" id="validationCustom02"  placeholder="" required readonly>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-6 cells modify-tags">
                                <div class="mb-3 row">
                                    <label class="col-lg-4 col-form-label" for="validationCustom06">Particular:
                                        <span class="text-danger">*</span>
                                    </label>
                                    <div class="col-lg-6">
                                        <input type="text" class="form-control particular" id="validationCustom06" placeholder="" required>
                                    </div>
                                </div>
                                <div class="mb-3 row">
                                    <label class="col-lg-4 col-form-label" for="validationCustom07">Quantity:
                                        <span class="text-danger">*</span>
                                    </label>
                                    <div class="col-lg-6">
                                        <input type="text" class="form-control quantity" id="validationCustom07"  placeholder="" required>
                                    </div>
                                </div>
                                <div class="mb-3 row">
                                    <label class="col-lg-4 col-form-label" for="validationCustom08">Unit Price:
                                        <span class="text-danger">*</span>
                                    </label>
                                    <div class="col-lg-6">
                                        <input type="text" class="form-control price" id="validationCustom08" placeholder="" required>
                                    </div>
                                </div>
                                <div class="mb-3 row">
                                    <label class="col-lg-4 col-form-label" for="validationCustom09">Amount: 
                                        <span class="text-danger">*</span>
                                    </label>
                                    <div class="col-lg-6">
                                        <input type="text" class="form-control amount" id="validationCustom09"  placeholder="" required>
                                    </div>
                                </div>
                                <div class="mb-3 row modify-button-wrapper">
                                    <div class="col-lg-8 ms-auto">
                                        <a><button type="button" class="btn btn-primary"
                                            data-pageon="<% if (context !== undefined) { %><%- context.config.pageon.purchases %><% } %>"
                                            data-previleges="<% if (context !== undefined) { %><%- context.config.previliges.documents.modify %>,<%- context.config.previliges.documents.delete %><% } %>"
                                            data-url="<% if (context !== undefined) { %><%- context.config.post_urls.purchases_preview %><% } %>"> Update </button></a>
                                        <div class="loading-gif"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

            </div>

            <!-- end -->
            <!-- row -->
			<div class="container-fluid">
				<div class="form-head d-flex align-items-center mb-sm-4 mb-3">
					<div class="me-auto">
						<h2 class="text-black font-w600">Dashboard</h2>
						<!-- <p class="mb-0">Hospital Admin Dashboard Template</p> -->
					</div>
				</div>
				<div class="row">
					<div class="col-lg-12">
                        <div class="card" >
                            <div class="card-header" style="background-color:aquamarine ">
                                <h4 class="card-title">Purchases Preview</h4>
                            </div>
                            <div class="card-body card-container">
                                <div class="table-responsive">
                                    <!-- modification buttons -->
                                    <div class="purchases-buttons-wrapper">
                                        <div class="de-flex purchases-button-container">
                                            <a class="btn btn-primary shadoow btn-xx sharp me-3 edit"><i class="fa fa-pencil edit"></i></a>
                                            <a class="btn btn-danger shadoow btn-xx sharp delete"><i class="fa fa-trash delete"></i></a>
                                            <a class="btn btn-secondary shadoow btn-xx m-3 sharp undo"><i class="fa fa-undo undo"></i></a>
                                            <a class="btn"><div class="loading-gif"></div></a>
                                            <div class="hidden-class" style="display: none;" data-pageon="<% if (context !== undefined) { %><%- context.config.pageon.purchases %><% } %>"
                                                data-previleges="<% if (context !== undefined) { %><%- context.config.previliges.documents.modify %>,<%- context.config.previliges.documents.delete %><% } %>"
                                                data-url="<% if (context !== undefined) { %><%- context.config.post_urls.purchases_preview %><% } %>"></div>
                                        </div>
                                    </div>
                                    <!-- end -->
                                    <div class="payload-wrapper" data-payload='<% if (context !== undefined) { %><%- JSON.stringify(context.purchases) %><% } %>'></div>
                                    <table class="table table-striped table-responsive-sm tb-wrapper" data-url='<% if (context !== undefined) { %><%- context.config.view_urls.purchase_responds %><% } %>'>
                                        <thead class="tb-head-wrapper">
                                            <% if (context.purchases !== undefined) { %>
                                                <% if (context.purchases.length > 0) { %>
                                                    <tr>
                                                        <th style="width:50px;">
                                                            <div class="form-check custom-checkbox checkbox-success check-lg me-3">
                                                                <input type="checkbox" class="form-check-input checkall" id="checkAll" required="">
                                                                <label class="form-check-label" for="checkAll"></label>
                                                            </div>
                                                        </th>
                                                        <th>No.</th>
                                                        <th>Supplier</th>
                                                        <th>Invioce Date</th>
                                                        <th>Invioce No.</th>
                                                        <th>Particulars</th>
                                                        <th>Quantity</th>
                                                        <th>Unit Price</th>
                                                        <th>Amount</th>
                                                        <th></th>
                                                    </tr>
                                                <% } %>
                                            <% } %>
                                        </thead>
                                        <tbody class="tb-body-wrapper" data-purchasesength="<% if (context.purchases !== undefined) { %><%- context.purchases.length %><% } %>" data-config='<% if (context !== undefined) { %><%- context.config.previliges.documents.modify %>,<%- context.config.previliges.documents.delete %><% } %>'>
                                            <% if (context.purchases !== undefined) { %>
                                                <% if (context.purchases.length > 0) { %>
                                                    <% const indexes = Array.from({length: context.purchases.length}, (_, i) => i + 1); %>
                                                    <% for( let i = 0; i < context.purchases.length; i++ ) { %>
                                                        <% const data = context.purchases[i]; %>
                                                        <% const number = indexes[i]; %>

                                                        <tr class="each-list-cell" data-uid="<%- data._id %>">
                                                            <td>
                                                                <div class="form-check custom-checkbox checkbox-success check-lg me-3">
                                                                    <input type="checkbox" class="form-check-input selected-box" id="customCheckBox2" required="">
                                                                    <label class="form-check-label" for="customCheckBox2"></label>
                                                                </div>
                                                            </td>
                                                            <th class="text-black"><%- number %></th>
                                                            <td><%- data.supplier %></td>
                                                            <td><%- data.invoice_date %></td>
                                                            <td>#<%- data.invoice_number %></td>
                                                            <td><%- data.particular %></td>
                                                            <td><%- data.quantity %></td>
                                                            <td class="color-primary">Ghc <%- data.price %></td>
                                                            <td class="color-primary">Ghc <%- data.amount %></td>
                                                            <td>
                                                                <div class="form-check custom-checkbox checkbox-success check-lg me-3">
                                                                    <input type="checkbox" class="form-check-input selected-checked" id="customCheckBox2" required="">
                                                                    <label class="form-check-label" for="customCheckBox2"></label>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    <% } %>
                                                <% } %>
                                            <% } %>
                                        </tbody>
                                    </table>
                                    <% if (context.purchases !== undefined) { %>
                                        <% if (context.purchases.length <= 0) { %>
                                            <div class="empty-preview-wrapper"><h5 class="i">Data Empty</h5></div>
                                            <button type="button" class="btn btn-primary preview-buttons back-to-preview" style="background-color: aquamarine; border: none; color: black;"
                                            data-url="<% if (context !== undefined) { %><%- context.config.view_urls.purchase %><% } %>">Back To Purchases</button>
                                        <% }else { %>
                                            <div class="mb-3 row" style="margin-left: 60%;">
                                                <div class="col-lg-8 ms-auto d-flex flex-row preview-buttons-wrapper">
                                                    <button type="button" class="btn btn-primary preview-buttons submit" id="preview-submit" style="margin-right: 10px; background-color: #6cfaca; border: none; border-radius: 10px; color: black;"
                                                        data-url="<% if (context !== undefined) { %><%- context.config.post_urls.purchases_submit %><% } %>"
                                                        data-redirect="<% if (context !== undefined) { %><%- context.config.view_urls.purchase %><% } %>">Submit</button>
                                                    <button type="button" class="btn btn-primary preview-buttons back-to-preview" style="background-color: aquamarine; border-radius: 10px; border: none; color: black;"
                                                        data-url="<% if (context !== undefined) { %><%- context.config.view_urls.purchase %><% } %>">Back To Purchases</button>
                                                    <div class="loading-gif" style="float: right;"></div>
                                                </div>
                                            </div>
                                        <% } %>
									<% } %>
                                </div>
                            </div>
                        </div>
                    </div>
				</div>
				
            </div>
        </div>
        <!--**********************************
            Content body end
        ***********************************-->

        <!--**********************************
            Footer start
        ***********************************-->
        <div class="footer">
            <div class="copyright">
                <p>Copyright © Designed &amp; Developed by <a href="" target="_blank">PPF</a> 2024</p>
            </div>
        </div>
        <!--**********************************
            Footer end
        ***********************************-->

		<!--**********************************
           Support ticket button start
        ***********************************-->

        <!--**********************************
           Support ticket button end
        ***********************************-->


    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!--**********************************
        Scripts
    ***********************************-->
	<!-- General js -->
	<%- include ("../partial/meta-js.ejs") %>
    <script src="/frontend/js/purchases.js" type="module"></script>
	<script src="/frontend/vendor/chart-js/chart.bundle.min.js"></script>
	<script src="/frontend/vendor/bootstrap-datetimepicker/js/moment.js"></script>
	<script src="/frontend/vendor/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
	<!-- Chart piety plugin files -->
    <script src="/frontend/vendor/peity/jquery.peity.min.js"></script>
	
	<!-- Apex Chart -->
	<script src="/frontend/vendor/apexchart/apexchart.js"></script>
	
	<!-- Dashboard 1 -->
	<script src="/frontend/js/dashboard/dashboard-1.js"></script>
	<script>
		$(function () {
			$('#datetimepicker1').datetimepicker({
				inline: true,
			});
		});
	</script>
</body>
</html>